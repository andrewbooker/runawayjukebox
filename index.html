<http>
    <head>
        <title>Runaway Jukebox</title>
        <style>
            body {
                background-color: black;
                color: white;
                font-family: Arial;
                margin: 40px;
            }
            img {
                border-radius: 3%;
            }
            .date-row {
                display: flex;
            }
            .gig-date {
               margin-right: 20px;
               font-weight: bold;
               color: rgba(255,255,255,0.6);
               width: 100px;
            }
            .gig-location {
            }
        </style>
    </head>
    <body>
        <div>
            <img id="main-image" src="rj_landscape.png" />
        </div>
        <div>
            <h2>Live dates</h2>
            <div class="dates" id="dates"></div>
        </div>
    </body>
    <script>
        const gigs = [
            ["Half Moon, Bishops Stortford", "2024-06-21"],
            ["Duke Of Wellington, Epping", "2024-06-22"],
            ["Coach & Horses, Leyton", "2024-08-30"],
            ["Highams Park, TBC", "2024-09-08"],
            ["Bar Love, Portobello Road, London", "2024-09-12"],
            ["Berkhamsted Beer Festival", "2024-09-14"],
            ["Bar Love, Portobello Road, London", "2024-10-10"],
            ["Bar Love, Portobello Road, London", "2024-11-14"]
        ];

        const img_size = { width: "400", height: "260" };
        const main_image = document.getElementById("main-image");
        const ratio = 0.9 * window.innerWidth / screen.width;
        main_image.setAttribute("width", img_size.width * ratio);
        main_image.setAttribute("height", img_size.height * ratio);

        const options = { year: "numeric", month: "short", day: "2-digit" };
        const dates = document.getElementById("dates");
        gigs.forEach(g => {
            const loc = document.createTextNode(g[0]);
            const d = document.createTextNode(new Date(g[1]).toLocaleDateString("en-GB", options));

            gig = document.createElement("div");
            gig.className = "date-row";

            const left = document.createElement("div");
            const right = document.createElement("div");
            left.className = "gig-date";
            right.className = "gig-location";
            left.appendChild(d);
            right.appendChild(loc);

            gig.appendChild(left);
            gig.appendChild(right);
            dates.appendChild(gig);
        });
    </script>
</http>
